\subsection{include/h8sdk/adc.h ファイル}
\label{adc_8h}\index{include/h8sdk/adc.\+h@{include/h8sdk/adc.\+h}}


A/\+Dコンバータドライバ  


{\ttfamily \#include \char`\"{}stddef.\+h\char`\"{}}\\*
adc.\+h の依存先関係図\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=149pt]{dd/dce/adc_8h__incl}
\end{center}
\end{figure}
\subsubsection*{列挙型}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{adc_8h_a184c6673e1a242cded56d57b9600e591_a184c6673e1a242cded56d57b9600e591}{A\+D\+C\+\_\+\+Mode} \{ \\*
\hyperlink{adc_8h_a184c6673e1a242cded56d57b9600e591_a184c6673e1a242cded56d57b9600e591ae58688800227d2e53c5c826f175d0676}{A\+D\+C\+\_\+\+N\+O\+R\+M\+A\+L} = 0, 
\\*
\hyperlink{adc_8h_a184c6673e1a242cded56d57b9600e591_a184c6673e1a242cded56d57b9600e591ac421996f600e6f84ea8a08b3c89bda41}{A\+D\+C\+\_\+\+S\+C\+A\+N}, 
\\*
\hyperlink{adc_8h_a184c6673e1a242cded56d57b9600e591_a184c6673e1a242cded56d57b9600e591aec9562b03bab4f1d385bf577c4a50940}{A\+D\+C\+\_\+\+N\+U\+M\+\_\+\+O\+F\+\_\+\+M\+O\+D\+E}
 \}\begin{DoxyCompactList}\small\item\em 設定モード識別子 \end{DoxyCompactList}
\item 
enum \hyperlink{adc_8h_ad7b9fa1ae8a65e534cce7d26fa0984f6_ad7b9fa1ae8a65e534cce7d26fa0984f6}{A\+D\+C\+\_\+\+Channel} \{ \\*
\hyperlink{adc_8h_ad7b9fa1ae8a65e534cce7d26fa0984f6_ad7b9fa1ae8a65e534cce7d26fa0984f6a2b312b52fe5d414d9bd2cba051dcd72a}{A\+D\+C\+\_\+\+A\+N0} = 0, 
\\*
\hyperlink{adc_8h_ad7b9fa1ae8a65e534cce7d26fa0984f6_ad7b9fa1ae8a65e534cce7d26fa0984f6a1c51560713abb867567f99d4c78763bd}{A\+D\+C\+\_\+\+A\+N1}, 
\\*
\hyperlink{adc_8h_ad7b9fa1ae8a65e534cce7d26fa0984f6_ad7b9fa1ae8a65e534cce7d26fa0984f6acfaa570d9fd2190be56d1fc8cb23ef32}{A\+D\+C\+\_\+\+A\+N2}, 
\\*
\hyperlink{adc_8h_ad7b9fa1ae8a65e534cce7d26fa0984f6_ad7b9fa1ae8a65e534cce7d26fa0984f6adf2a7a958cab5ddfa2a8cde10bc6ab93}{A\+D\+C\+\_\+\+A\+N3}, 
\\*
\hyperlink{adc_8h_ad7b9fa1ae8a65e534cce7d26fa0984f6_ad7b9fa1ae8a65e534cce7d26fa0984f6a3d2f32aec0a1ff17b92c055b8b05f9c6}{A\+D\+C\+\_\+\+N\+U\+M\+\_\+\+O\+F\+\_\+\+C\+H\+A\+N\+N\+E\+L}
 \}\begin{DoxyCompactList}\small\item\em チャネル識別子 \end{DoxyCompactList}
\end{DoxyCompactItemize}
\subsubsection*{関数}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{adc_8h_ade9427cdb56898519822987924abac56_ade9427cdb56898519822987924abac56}{A\+D\+C\+\_\+init} (\hyperlink{adc_8h_a184c6673e1a242cded56d57b9600e591_a184c6673e1a242cded56d57b9600e591}{A\+D\+C\+\_\+\+Mode} mode, \hyperlink{stddef_8h_afbf708854fe02af8475a9ba02f3196cb_afbf708854fe02af8475a9ba02f3196cb}{\+\_\+\+B\+O\+O\+L} interrupt)
\begin{DoxyCompactList}\small\item\em A/\+Dコンバータ初期化 \end{DoxyCompactList}\item 
void \hyperlink{adc_8h_a57fd0ce331f38600a2db2ffbba308372_a57fd0ce331f38600a2db2ffbba308372}{A\+D\+C\+\_\+enable} (\hyperlink{adc_8h_ad7b9fa1ae8a65e534cce7d26fa0984f6_ad7b9fa1ae8a65e534cce7d26fa0984f6}{A\+D\+C\+\_\+\+Channel} ch)
\begin{DoxyCompactList}\small\item\em チャネル有効化 \end{DoxyCompactList}\item 
void \hyperlink{adc_8h_ae2f308dccaf207cc9242332c7671029d_ae2f308dccaf207cc9242332c7671029d}{A\+D\+C\+\_\+disable} (\hyperlink{adc_8h_ad7b9fa1ae8a65e534cce7d26fa0984f6_ad7b9fa1ae8a65e534cce7d26fa0984f6}{A\+D\+C\+\_\+\+Channel} ch)
\begin{DoxyCompactList}\small\item\em チャネル無効化 \end{DoxyCompactList}\item 
void \hyperlink{adc_8h_a32572a51eecfb3116590f3093fb16300_a32572a51eecfb3116590f3093fb16300}{A\+D\+C\+\_\+start} ()
\begin{DoxyCompactList}\small\item\em A/\+D変換開始 \end{DoxyCompactList}\item 
void \hyperlink{adc_8h_a9bf6b42d8730704dd47b5a025e6b419a_a9bf6b42d8730704dd47b5a025e6b419a}{A\+D\+C\+\_\+stop} ()
\begin{DoxyCompactList}\small\item\em A/\+D変換停止 \end{DoxyCompactList}\item 
\hyperlink{stddef_8h_a931e4fd9bf350284fc21e94cd5ee126f_a931e4fd9bf350284fc21e94cd5ee126f}{\+\_\+\+S\+D\+W\+O\+R\+D} \hyperlink{adc_8h_a47c7c4daf8f782717d6ae97bc0054aa3_a47c7c4daf8f782717d6ae97bc0054aa3}{A\+D\+C\+\_\+get} (\hyperlink{adc_8h_ad7b9fa1ae8a65e534cce7d26fa0984f6_ad7b9fa1ae8a65e534cce7d26fa0984f6}{A\+D\+C\+\_\+\+Channel} anx, \hyperlink{stddef_8h_afbf708854fe02af8475a9ba02f3196cb_afbf708854fe02af8475a9ba02f3196cb}{\+\_\+\+B\+O\+O\+L} last)
\begin{DoxyCompactList}\small\item\em A/\+D変換データを取得する \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsubsection{詳解}
A/\+Dコンバータドライバ 

このモジュールは\+A/\+Dコンバータへのインタフェースを提供する。~\newline
初期化、使用チャネルの設定を行うことで変換データを取得できるように なる。

\begin{DoxySeeAlso}{参照}
H83694グループ\+\_\+ハードウェアマニュアル.\+pdf 16章
\end{DoxySeeAlso}
 

\subsubsection{列挙型詳解}
\index{adc.\+h@{adc.\+h}!A\+D\+C\+\_\+\+Mode@{A\+D\+C\+\_\+\+Mode}}
\index{A\+D\+C\+\_\+\+Mode@{A\+D\+C\+\_\+\+Mode}!adc.\+h@{adc.\+h}}
\paragraph[{A\+D\+C\+\_\+\+Mode}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf A\+D\+C\+\_\+\+Mode}}\label{adc_8h_a184c6673e1a242cded56d57b9600e591_a184c6673e1a242cded56d57b9600e591}


設定モード識別子 

\begin{Desc}
\item[列挙値]\par
\begin{description}
\index{A\+D\+C\+\_\+\+N\+O\+R\+M\+A\+L@{A\+D\+C\+\_\+\+N\+O\+R\+M\+A\+L}!adc.\+h@{adc.\+h}}\index{adc.\+h@{adc.\+h}!A\+D\+C\+\_\+\+N\+O\+R\+M\+A\+L@{A\+D\+C\+\_\+\+N\+O\+R\+M\+A\+L}}\item[{\em 
A\+D\+C\+\_\+\+N\+O\+R\+M\+A\+L\label{adc_8h_a184c6673e1a242cded56d57b9600e591_a184c6673e1a242cded56d57b9600e591ae58688800227d2e53c5c826f175d0676}
}]ノーマルモード \index{A\+D\+C\+\_\+\+S\+C\+A\+N@{A\+D\+C\+\_\+\+S\+C\+A\+N}!adc.\+h@{adc.\+h}}\index{adc.\+h@{adc.\+h}!A\+D\+C\+\_\+\+S\+C\+A\+N@{A\+D\+C\+\_\+\+S\+C\+A\+N}}\item[{\em 
A\+D\+C\+\_\+\+S\+C\+A\+N\label{adc_8h_a184c6673e1a242cded56d57b9600e591_a184c6673e1a242cded56d57b9600e591ac421996f600e6f84ea8a08b3c89bda41}
}]スキャンモード \index{A\+D\+C\+\_\+\+N\+U\+M\+\_\+\+O\+F\+\_\+\+M\+O\+D\+E@{A\+D\+C\+\_\+\+N\+U\+M\+\_\+\+O\+F\+\_\+\+M\+O\+D\+E}!adc.\+h@{adc.\+h}}\index{adc.\+h@{adc.\+h}!A\+D\+C\+\_\+\+N\+U\+M\+\_\+\+O\+F\+\_\+\+M\+O\+D\+E@{A\+D\+C\+\_\+\+N\+U\+M\+\_\+\+O\+F\+\_\+\+M\+O\+D\+E}}\item[{\em 
A\+D\+C\+\_\+\+N\+U\+M\+\_\+\+O\+F\+\_\+\+M\+O\+D\+E\label{adc_8h_a184c6673e1a242cded56d57b9600e591_a184c6673e1a242cded56d57b9600e591aec9562b03bab4f1d385bf577c4a50940}
}]モード数 \end{description}
\end{Desc}


 adc.\+h の 34 行目に定義があります。


\begin{DoxyCode}
35 \{
36     ADC_NORMAL = 0,
38     ADC_SCAN,
40     ADC_NUM_OF_MODE
42 \} ADC_Mode;
\end{DoxyCode}
\index{adc.\+h@{adc.\+h}!A\+D\+C\+\_\+\+Channel@{A\+D\+C\+\_\+\+Channel}}
\index{A\+D\+C\+\_\+\+Channel@{A\+D\+C\+\_\+\+Channel}!adc.\+h@{adc.\+h}}
\paragraph[{A\+D\+C\+\_\+\+Channel}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf A\+D\+C\+\_\+\+Channel}}\label{adc_8h_ad7b9fa1ae8a65e534cce7d26fa0984f6_ad7b9fa1ae8a65e534cce7d26fa0984f6}


チャネル識別子 

\begin{Desc}
\item[列挙値]\par
\begin{description}
\index{A\+D\+C\+\_\+\+A\+N0@{A\+D\+C\+\_\+\+A\+N0}!adc.\+h@{adc.\+h}}\index{adc.\+h@{adc.\+h}!A\+D\+C\+\_\+\+A\+N0@{A\+D\+C\+\_\+\+A\+N0}}\item[{\em 
A\+D\+C\+\_\+\+A\+N0\label{adc_8h_ad7b9fa1ae8a65e534cce7d26fa0984f6_ad7b9fa1ae8a65e534cce7d26fa0984f6a2b312b52fe5d414d9bd2cba051dcd72a}
}]チャネルポート\+A\+N0 \index{A\+D\+C\+\_\+\+A\+N1@{A\+D\+C\+\_\+\+A\+N1}!adc.\+h@{adc.\+h}}\index{adc.\+h@{adc.\+h}!A\+D\+C\+\_\+\+A\+N1@{A\+D\+C\+\_\+\+A\+N1}}\item[{\em 
A\+D\+C\+\_\+\+A\+N1\label{adc_8h_ad7b9fa1ae8a65e534cce7d26fa0984f6_ad7b9fa1ae8a65e534cce7d26fa0984f6a1c51560713abb867567f99d4c78763bd}
}]チャネルポート\+A\+N1 \index{A\+D\+C\+\_\+\+A\+N2@{A\+D\+C\+\_\+\+A\+N2}!adc.\+h@{adc.\+h}}\index{adc.\+h@{adc.\+h}!A\+D\+C\+\_\+\+A\+N2@{A\+D\+C\+\_\+\+A\+N2}}\item[{\em 
A\+D\+C\+\_\+\+A\+N2\label{adc_8h_ad7b9fa1ae8a65e534cce7d26fa0984f6_ad7b9fa1ae8a65e534cce7d26fa0984f6acfaa570d9fd2190be56d1fc8cb23ef32}
}]チャネルポート\+A\+N2 \index{A\+D\+C\+\_\+\+A\+N3@{A\+D\+C\+\_\+\+A\+N3}!adc.\+h@{adc.\+h}}\index{adc.\+h@{adc.\+h}!A\+D\+C\+\_\+\+A\+N3@{A\+D\+C\+\_\+\+A\+N3}}\item[{\em 
A\+D\+C\+\_\+\+A\+N3\label{adc_8h_ad7b9fa1ae8a65e534cce7d26fa0984f6_ad7b9fa1ae8a65e534cce7d26fa0984f6adf2a7a958cab5ddfa2a8cde10bc6ab93}
}]チャネルポート\+A\+N3 \index{A\+D\+C\+\_\+\+N\+U\+M\+\_\+\+O\+F\+\_\+\+C\+H\+A\+N\+N\+E\+L@{A\+D\+C\+\_\+\+N\+U\+M\+\_\+\+O\+F\+\_\+\+C\+H\+A\+N\+N\+E\+L}!adc.\+h@{adc.\+h}}\index{adc.\+h@{adc.\+h}!A\+D\+C\+\_\+\+N\+U\+M\+\_\+\+O\+F\+\_\+\+C\+H\+A\+N\+N\+E\+L@{A\+D\+C\+\_\+\+N\+U\+M\+\_\+\+O\+F\+\_\+\+C\+H\+A\+N\+N\+E\+L}}\item[{\em 
A\+D\+C\+\_\+\+N\+U\+M\+\_\+\+O\+F\+\_\+\+C\+H\+A\+N\+N\+E\+L\label{adc_8h_ad7b9fa1ae8a65e534cce7d26fa0984f6_ad7b9fa1ae8a65e534cce7d26fa0984f6a3d2f32aec0a1ff17b92c055b8b05f9c6}
}]チャネルポート数 \end{description}
\end{Desc}


 adc.\+h の 47 行目に定義があります。


\begin{DoxyCode}
48 \{
49     ADC_AN0 = 0,
51     ADC_AN1,
53     ADC_AN2,
55     ADC_AN3,
57     ADC_NUM_OF_CHANNEL
59 \} ADC_Channel;
\end{DoxyCode}


\subsubsection{関数詳解}
\index{adc.\+h@{adc.\+h}!A\+D\+C\+\_\+init@{A\+D\+C\+\_\+init}}
\index{A\+D\+C\+\_\+init@{A\+D\+C\+\_\+init}!adc.\+h@{adc.\+h}}
\paragraph[{A\+D\+C\+\_\+init(\+A\+D\+C\+\_\+\+Mode mode, \+\_\+\+B\+O\+O\+L interrupt)}]{\setlength{\rightskip}{0pt plus 5cm}void A\+D\+C\+\_\+init (
\begin{DoxyParamCaption}
\item[{{\bf A\+D\+C\+\_\+\+Mode}}]{mode, }
\item[{{\bf \+\_\+\+B\+O\+O\+L}}]{interrupt}
\end{DoxyParamCaption}
)}\label{adc_8h_ade9427cdb56898519822987924abac56_ade9427cdb56898519822987924abac56}


A/\+Dコンバータ初期化 

A/\+Dコンバータ初期化。他\+A\+P\+I使用前に必ず実行する。


\begin{DoxyParams}[1]{引数}
\mbox{\tt in}  & {\em mode} & 使用するモードの種類 \\
\hline
\mbox{\tt in}  & {\em interrupt} & \+\_\+\+T\+R\+U\+E：割り込みを使う。~\newline
\+\_\+\+F\+A\+L\+S\+E：割り込みを使わない。\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{覚え書き}
割り込みハンドラは外部で定義する。 
\end{DoxyNote}
\index{adc.\+h@{adc.\+h}!A\+D\+C\+\_\+enable@{A\+D\+C\+\_\+enable}}
\index{A\+D\+C\+\_\+enable@{A\+D\+C\+\_\+enable}!adc.\+h@{adc.\+h}}
\paragraph[{A\+D\+C\+\_\+enable(\+A\+D\+C\+\_\+\+Channel ch)}]{\setlength{\rightskip}{0pt plus 5cm}void A\+D\+C\+\_\+enable (
\begin{DoxyParamCaption}
\item[{{\bf A\+D\+C\+\_\+\+Channel}}]{ch}
\end{DoxyParamCaption}
)}\label{adc_8h_a57fd0ce331f38600a2db2ffbba308372_a57fd0ce331f38600a2db2ffbba308372}


チャネル有効化 

使用するチャネルを設定する。ノーマルモード時は指定チャネルのみ。ス キャンモード時は指定チャネルより若い番号のチャネルは全て使用可能に セットされる。例えば、\+A\+D\+C\+\_\+\+A\+N2 を与えた場合 A\+N0〜\+A\+N2のチャネルが有効 になる。


\begin{DoxyParams}[1]{引数}
\mbox{\tt in}  & {\em ch} & 有効にするチャネル\\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{参照}
\hyperlink{adc_8h_ae2f308dccaf207cc9242332c7671029d_ae2f308dccaf207cc9242332c7671029d}{A\+D\+C\+\_\+disable} 
\end{DoxySeeAlso}
\index{adc.\+h@{adc.\+h}!A\+D\+C\+\_\+disable@{A\+D\+C\+\_\+disable}}
\index{A\+D\+C\+\_\+disable@{A\+D\+C\+\_\+disable}!adc.\+h@{adc.\+h}}
\paragraph[{A\+D\+C\+\_\+disable(\+A\+D\+C\+\_\+\+Channel ch)}]{\setlength{\rightskip}{0pt plus 5cm}void A\+D\+C\+\_\+disable (
\begin{DoxyParamCaption}
\item[{{\bf A\+D\+C\+\_\+\+Channel}}]{ch}
\end{DoxyParamCaption}
)}\label{adc_8h_ae2f308dccaf207cc9242332c7671029d_ae2f308dccaf207cc9242332c7671029d}


チャネル無効化 

使用停止するチャネルを設定する。ノーマルモード時は指定チャネルのみ。 指定チャネルより若い番号のチャネルは全て使用不可にセットされる。例 えば、\+A\+D\+C\+\_\+\+A\+N2 を与えた場合 A\+N0〜\+A\+N2のチャネルが無効になる。


\begin{DoxyParams}[1]{引数}
\mbox{\tt in}  & {\em ch} & 無効にするチャネル\\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{参照}
\hyperlink{adc_8h_a57fd0ce331f38600a2db2ffbba308372_a57fd0ce331f38600a2db2ffbba308372}{A\+D\+C\+\_\+enable} 
\end{DoxySeeAlso}
\index{adc.\+h@{adc.\+h}!A\+D\+C\+\_\+start@{A\+D\+C\+\_\+start}}
\index{A\+D\+C\+\_\+start@{A\+D\+C\+\_\+start}!adc.\+h@{adc.\+h}}
\paragraph[{A\+D\+C\+\_\+start()}]{\setlength{\rightskip}{0pt plus 5cm}void A\+D\+C\+\_\+start (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{adc_8h_a32572a51eecfb3116590f3093fb16300_a32572a51eecfb3116590f3093fb16300}


A/\+D変換開始 

A/\+D変換が開始される。スキャンモード時は変換データが随時取得できるよ うになる。ノーマルモード時は一回のみ。

\begin{DoxySeeAlso}{参照}
\hyperlink{adc_8h_a9bf6b42d8730704dd47b5a025e6b419a_a9bf6b42d8730704dd47b5a025e6b419a}{A\+D\+C\+\_\+stop} 
\end{DoxySeeAlso}
\index{adc.\+h@{adc.\+h}!A\+D\+C\+\_\+stop@{A\+D\+C\+\_\+stop}}
\index{A\+D\+C\+\_\+stop@{A\+D\+C\+\_\+stop}!adc.\+h@{adc.\+h}}
\paragraph[{A\+D\+C\+\_\+stop()}]{\setlength{\rightskip}{0pt plus 5cm}void A\+D\+C\+\_\+stop (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{adc_8h_a9bf6b42d8730704dd47b5a025e6b419a_a9bf6b42d8730704dd47b5a025e6b419a}


A/\+D変換停止 

A/\+D変換が停止される。以降変換データは取得できない。

\begin{DoxySeeAlso}{参照}
\hyperlink{adc_8h_a32572a51eecfb3116590f3093fb16300_a32572a51eecfb3116590f3093fb16300}{A\+D\+C\+\_\+start} 
\end{DoxySeeAlso}
\index{adc.\+h@{adc.\+h}!A\+D\+C\+\_\+get@{A\+D\+C\+\_\+get}}
\index{A\+D\+C\+\_\+get@{A\+D\+C\+\_\+get}!adc.\+h@{adc.\+h}}
\paragraph[{A\+D\+C\+\_\+get(\+A\+D\+C\+\_\+\+Channel anx, \+\_\+\+B\+O\+O\+L last)}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \+\_\+\+S\+D\+W\+O\+R\+D} A\+D\+C\+\_\+get (
\begin{DoxyParamCaption}
\item[{{\bf A\+D\+C\+\_\+\+Channel}}]{anx, }
\item[{{\bf \+\_\+\+B\+O\+O\+L}}]{last}
\end{DoxyParamCaption}
)}\label{adc_8h_a47c7c4daf8f782717d6ae97bc0054aa3_a47c7c4daf8f782717d6ae97bc0054aa3}


A/\+D変換データを取得する 

A/\+D変換データを取得する。読み込むチャネルが全て完了したときは必ず引 数lastに\+\_\+\+T\+R\+U\+Eをセットして実行する。


\begin{DoxyParams}[1]{引数}
\mbox{\tt in}  & {\em anx} & データを取得するチャネル \\
\hline
\mbox{\tt in}  & {\em last} & この取得で今回の変換データを全チャネルで破棄するかどうか\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{戻り値}
{\em 正の値} & 変換完了データ。有効値は10bit \\
\hline
{\em -\/1} & 変換処理が未完 \\
\hline
\end{DoxyRetVals}
